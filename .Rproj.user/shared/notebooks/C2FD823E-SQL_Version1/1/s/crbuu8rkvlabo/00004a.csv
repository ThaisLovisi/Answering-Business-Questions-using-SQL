"0","show_tables <- function(){"
"0","                      query <- query_pred"
"0","                      return(run_query(query))"
"0","                }"
"0",""
"0","query_pred <- "" "
"0","WITH "
"0","                  usa_genre_quantity AS ("
"0","                                    SELECT t.genre_id, "
"0","                                           il.*,"
"0","                                           g.name"
"0","                                    FROM track t"
"0","                                    INNER JOIN invoice i ON"
"0","                                    i.invoice_id= il.invoice_id"
"0","                                    INNER JOIN customer cust ON"
"0","                                    cust.customer_id= i.customer_id"
"0","                                    INNER JOIN invoice_line il ON"
"0","                                    il.track_id = t.track_id"
"0","                                    INNER JOIN genre g ON"
"0","                                    g.genre_id = t.genre_id"
"0","                                    WHERE cust.country = 'USA'"
"0","                                    )"
"0","                                SELECT   name,"
"0","                                        COUNT(invoice_line_id) track_sold,"
"0","                                        cast(count(invoice_line_id) AS FLOAT) / ("
"0","        SELECT COUNT(*) from usa_genre_quantity"
"0","    ) percentage_sold"
"0","                FROM  usa_genre_quantity "
"0","  GROUP BY genre_id"
"0","              "
"0","               "
"0","                """
"0","show_tables()"
